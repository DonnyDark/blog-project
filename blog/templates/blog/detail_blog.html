{% extends 'blog/_base.html' %}
{% load static %}


{% block title %}Detail Blog{% endblock %}

{% block content %}
<h1>{{ blog.title }}</h1>
<h2>{{ blog.author }}</h2>
<h3>{{ blog.text }}</h3>
<h4>{{ blog.published_date }}</h4>

<!-- like section -->
<a>
    <div><img src="{% static 'blog/images/like.png' %}" class="like-icon"></div>
    <div class="total-likes"><span>{{ blog.total_likes }}</span></div>
</a>

<!-- comment section -->
<h2>Leave your comment!</h2>
<div id="comment-section">
    {% if user.is_authenticated %}
    <form method="POST">
        {% csrf_token %}
        <div class="form-group">
            {{ comment_form }}
            <button class="btn btn-info" type="submit">Add comment <i class="fas fa-comments"></i></button>
        </div>
    </form>
    {% else %}
    <a class="btn btn-outline-info" href="{% url 'login' %}?next={{ request.path }}">Log in to add a comment!</a><br>
    {% endif %}

    {% if comments %}
    <strong class="text-secondary">{{ blog.number_of_comments }} Comment{{ blog.number_of_comments|pluralize }}</strong>
    <hr>
    <ul>
        {% for comment in comments %}
        <li>
            <div>
                <span>
                    <strong class="text-info">{{ comment.author }} </strong>
                    <small class="text-muted">{{ comment.date_posted }}</small>
                </span>
                <p>
                    {{ comment.text|safe }}
                </p>
            </div>
        </li>
        {% endfor %}
    </ul>
    {% else %}
        <strong class="text-secondary">No comments yet...</strong>
    {% endif %}
</div>


{% endblock %}